<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather & Agriculture Insights - Rwanda Farmers</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-seedling"></i>
                    <h1>Weather & Agriculture Insights</h1>
                </div>
                <p class="subtitle">Empowering Rwandan Farmers with Data-Driven Decisions</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Search Section -->
            <section class="search-section">
                <div class="search-container">
                    <div class="search-group">
                        <label for="locationSelect">Select Location:</label>
                        <select id="locationSelect" class="form-control">
                            <option value="">Choose a city/village...</option>
                            <option value="kigali">Kigali</option>
                            <option value="butare">Butare</option>
                            <option value="gisenyi">Gisenyi</option>
                            <option value="ruhengeri">Ruhengeri</option>
                            <option value="kibuye">Kibuye</option>
                            <option value="kibungo">Kibungo</option>
                            <option value="nyanza">Nyanza</option>
                            <option value="cyangugu">Cyangugu</option>
                            <option value="byumba">Byumba</option>
                            <option value="kayonza">Kayonza</option>
                        </select>
                    </div>
                    
                    <div class="search-group">
                        <label for="cropSelect">Select Crop (Optional):</label>
                        <select id="cropSelect" class="form-control">
                            <option value="">Choose a crop...</option>
                            <option value="maize">Maize</option>
                            <option value="beans">Beans</option>
                            <option value="potatoes">Potatoes</option>
                            <option value="rice">Rice</option>
                            <option value="coffee">Coffee</option>
                            <option value="tea">Tea</option>
                        </select>
                    </div>
                    
                    <button id="searchBtn" class="btn btn-primary">
                        <i class="fas fa-search"></i> Get Weather & Farming Insights
                    </button>
                </div>
            </section>

            <!-- Loading Indicator -->
            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>Fetching weather data and agricultural insights...</p>
            </div>

            <!-- Results Section -->
            <div id="results" class="results-section hidden">
                <!-- Weekly Weather Averages Card -->
                <div class="weather-card">
                    <div class="card-header">
                        <h2><i class="fas fa-calendar-week"></i> Weekly Weather Averages</h2>
                        <span id="locationName" class="location-name"></span>
                    </div>
                    <div class="weather-content">
                        <div class="weather-main">
                            <div class="temperature">
                                <span id="weeklyTemp" class="temp-value"></span>
                                <span class="temp-unit">°C</span>
                            </div>
                            <div class="weather-description">
                                <span id="weeklyWeatherDesc">Weekly Average</span>
                            </div>
                        </div>
                        <div class="weather-details">
                            <div class="detail-item">
                                <i class="fas fa-thermometer-half"></i>
                                <span>Min: <span id="weeklyMin"></span>°C | Max: <span id="weeklyMax"></span>°C</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-tint"></i>
                                <span>Humidity: <span id="weeklyHumidity"></span>%</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-wind"></i>
                                <span>Wind: <span id="weeklyWind"></span> m/s</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-cloud-rain"></i>
                                <span>Precipitation: <span id="weeklyPrecip"></span>%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Monthly Weather Averages Card -->
                <div class="weather-card">
                    <div class="card-header">
                        <h2><i class="fas fa-calendar-alt"></i> Monthly Weather Averages</h2>
                        <span id="locationName2" class="location-name"></span>
                    </div>
                    <div class="weather-content">
                        <div class="weather-main">
                            <div class="temperature">
                                <span id="monthlyTemp" class="temp-value"></span>
                                <span class="temp-unit">°C</span>
                            </div>
                            <div class="weather-description">
                                <span id="monthlyWeatherDesc">Monthly Average</span>
                            </div>
                        </div>
                        <div class="weather-details">
                            <div class="detail-item">
                                <i class="fas fa-thermometer-half"></i>
                                <span>Min: <span id="monthlyMin"></span>°C | Max: <span id="monthlyMax"></span>°C</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-tint"></i>
                                <span>Humidity: <span id="monthlyHumidity"></span>%</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-wind"></i>
                                <span>Wind: <span id="monthlyWind"></span> m/s</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-cloud-rain"></i>
                                <span>Total Rainfall: <span id="monthlyRainfall"></span> mm</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Agricultural Insights Card -->
                <div id="agricultureCard" class="agriculture-card hidden">
                    <div class="card-header">
                        <h2><i class="fas fa-leaf"></i> Agricultural Insights</h2>
                        <span id="cropName" class="crop-name"></span>
                    </div>
                    <div class="agriculture-content">
                        <div class="risk-level">
                            <span class="risk-label">Risk Level:</span>
                            <span id="riskLevel" class="risk-badge"></span>
                        </div>
                        
                        <div class="planting-advice">
                            <h3><i class="fas fa-seedling"></i> Monthly Planting Advice</h3>
                            <p id="plantingAdvice"></p>
                        </div>
                        
                        <div class="recommendations">
                            <h3><i class="fas fa-lightbulb"></i> Recommendations</h3>
                            <ul id="recommendationsList"></ul>
                        </div>
                        
                        <div id="alertsSection" class="alerts-section hidden">
                            <h3><i class="fas fa-exclamation-triangle"></i> Alerts</h3>
                            <ul id="alertsList"></ul>
                        </div>
                    </div>
                </div>

                <!-- Monthly Forecast Card -->
                <div id="forecastCard" class="forecast-card hidden">
                    <div class="card-header">
                        <h2><i class="fas fa-calendar-alt"></i> Monthly Forecast (Weekly Breakdown)</h2>
                    </div>
                    <div class="forecast-content">
                        <div id="forecastList" class="forecast-list"></div>
                    </div>
                </div>

                <!-- Crop Information Card -->
                <div id="cropInfoCard" class="crop-info-card hidden">
                    <div class="card-header">
                        <h2><i class="fas fa-info-circle"></i> Crop Information</h2>
                    </div>
                    <div class="crop-info-content">
                        <div class="crop-details">
                            <div class="detail-row">
                                <span class="label">Planting Season:</span>
                                <span id="plantingSeason"></span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Harvesting Season:</span>
                                <span id="harvestingSeason"></span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Optimal Temperature:</span>
                                <span id="optimalTemp"></span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Optimal Rainfall:</span>
                                <span id="optimalRainfall"></span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Drought Tolerance:</span>
                                <span id="droughtTolerance"></span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Flood Tolerance:</span>
                                <span id="floodTolerance"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Error Section -->
            <div id="errorSection" class="error-section hidden">
                <div class="error-content">
                    <i class="fas fa-exclamation-circle"></i>
                    <h3>Error</h3>
                    <p id="errorMessage"></p>
                </div>
            </div>

            <!-- Statistics Section -->
            <section class="stats-section">
                <div class="stats-container">
                    <h2><i class="fas fa-chart-bar"></i> Usage Statistics</h2>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-number" id="totalSearches">0</div>
                            <div class="stat-label">Total Searches</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="uniqueLocations">0</div>
                            <div class="stat-label">Locations Checked</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="recentSearches">0</div>
                            <div class="stat-label">Recent Searches</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <p>&copy; 2025 Weather & Agriculture Insights. Empowering Rwandan Farmers.</p>
                <p>Powered by OpenWeatherMap API</p>
            </div>
        </footer>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html> 